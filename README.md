# 動画編集スクリプトの使い方

このスクリプトは、`moviepy`ライブラリを使用して複数の動画や画像を合成し、最終的に1つの動画としてエクスポートするPythonプログラムです。以下に、準備手順と使用方法を詳しく説明します。

## 前提条件
1. Pythonがインストールされていること。
2. 必要なライブラリをインストール済みであること。
   ```bash
   pip install -r requirements.txt
   ```
3. 作業ディレクトリ内に必要な素材ファイルが揃っていること。

## 素材ファイル
- `sozai/thumbnail.png`: サムネイル画像
- `sozai/question.png`: 質問画像
- `sozai/main.mp4`: メイン動画
- `base.jpg`: ベース画像
- 他の動画ファイル (`op1.mp4`, `op2.mp4`, `op3.mp4`, `op4.mp4`, `ed.mp4`)

## 使い方

### 1. スクリプトの実行
以下のコマンドを使用してスクリプトを実行します。
```bash
python main.py
```

### 2. ファイル名の入力
スクリプトを実行すると、以下のようなプロンプトが表示されます。指定されたファイルの名前を入力してください。

- **サムネイル画像のファイル名を入力してください:**
  - 例: `thumbnail.png`
- **問題画像のファイル名を入力してください:**
  - 例: `question.png`
- **メイン動画のファイル名を入力してください:**
  - 例: `main.mp4`

### 3. 動画の生成
すべての入力が完了すると、スクリプトが動画を処理し、最終的に`output.mp4`という名前でエクスポートします。

## 処理内容
1. `op1.mp4` に `thumbnail.png` を `(120, 1380)` の位置に、幅 `1920px` にリサイズして合成します。
2. `op2.mp4` に:
   - `thumbnail.png` を `(0, 34)` の位置に、幅 `2160px` にリサイズして合成。
   - `question.png` を `(0, 1312)` の位置に、幅 `2160px` にリサイズして合成。
3. `op4.mp4` に `thumbnail.png` を `(120, 1380)` の位置に、幅 `1920px` にリサイズして合成します。
4. `main.mp4` を `base.jpg` の中央に配置して合成。さらに `thumbnail.png` を `(0, 0)` の位置に、幅 `2160px` にリサイズして合成します。
5. 上記の動画クリップをすべて連結し、`output.mp4` を生成します。

## 依存関係のインストール
プロジェクトで必要な依存関係を`requirements.txt`に記載しています。以下のコマンドで必要なライブラリをインストールしてください。

```bash
pip install -r requirements.txt
```

これにより、`moviepy`やその依存ライブラリが自動的にインストールされます。

## 注意事項
- ファイルが見つからない場合、エラーメッセージが表示されて処理が中断します。指定したファイル名が正しいことを確認してください。
- 高解像度動画を処理するため、十分なメモリとCPUリソースが必要です。

## トラブルシューティング
- **`FileNotFoundError` が発生する場合**:
  - ファイル名が間違っているか、指定されたディレクトリにファイルが存在しない可能性があります。
  - 正しいファイル名とディレクトリ構造を確認してください。
- **処理速度が遅い場合**:
  - 動画の解像度を下げたり、必要に応じてPCの性能を向上させることを検討してください。

---

このスクリプトは、Pythonと`moviepy`を活用した高度な動画編集を簡単に行うためのツールです。問題がある場合やカスタマイズの要望がある場合はお気軽にお問い合わせください。

